import{r as m,K as J,aE as H,j as e,M as h,as as V,L as Q,F as t,z as g,A as p,I as _,S as X,J as Y}from"./index-CH1DHpUO.js";import{u as ee}from"./index-Bmgp2eNd.js";/* empty css                  */import{T as ae,a as f}from"./Tabs-BCwnhKG4.js";import{T as se}from"./Table-BgUmb4J0.js";import"./hook--IKtwlj6.js";import"./NavbarContext-DjAi9o8r.js";import"./DefaultLayout-BR9EtBFa.js";import"./index.esm-BY_ioPXy.js";import"./Container-DvZ2s4CB.js";import"./index-BtTTpkap.js";import"./CardHeaderContext-CO0IXU5v.js";import"./Anchor-DOeWtXVE.js";const he=()=>{const A=localStorage.getItem("user_id"),[C,S]=m.useState(!1);m.useState(null);const w=localStorage.getItem("token"),[L,u]=m.useState(!1),[b,j]=m.useState(""),{register:l,handleSubmit:M,watch:o,reset:Z,control:E,setValue:n,formState:{errors:r}}=J({defaultValues:{contacts:[{ccp_salutation:"",ccp_firstname:"",ccp_lastname:"",ccp_email:"",ccp_phone:"",ccp_mobile:""}],files:[]}}),{fields:T,append:$,remove:k}=H({control:E,name:"contacts"});o("contacts");const B=async a=>{S(!0);try{const s=new FormData;s.append("user_id",A),N&&N.length>0&&N.forEach(c=>{s.append("image",c)}),s.append("cu_salutation",a.salutationman),s.append("cu_first_name",a.firstName),s.append("cu_last_name",a.lastNamemanti),s.append("cu_company_name",a.companyName),s.append("cu_display_name",a.displayName),s.append("cu_email",a.cu_email),s.append("cu_mobile",a.Mobile),s.append("cu_pan_no",a.pan),s.append("cu_opening_balance",a.openingBalance),s.append("cu_designation",a.designation),s.append("cu_department",a.department),s.append("cu_type",a.customerType),s.append("cu_currency",a.currency),s.append("cu_payment_terms",a.paymentTerms),s.append("cu_b_addr_attention",a.billingAttention),s.append("cu_b_addr_country",a.billingCountry),s.append("cu_b_addr_address",`${a.billingAddress1} ${a.billingAddress2}`.trim()),s.append("cu_b_addr_city",a.billingCity),s.append("cu_b_addr_state",a.billingState),s.append("cu_b_addr_pincode",a.billingPin),s.append("cu_b_addr_phone",a.billingPhone),s.append("cu_b_addr_fax_number",a.fax_number),y?(s.append("cu_s_addr_attention",a.billingAttention),s.append("cu_s_addr_country",a.billingCountry),s.append("cu_s_addr_address",`${a.billingAddress1} ${a.billingAddress2}`.trim()),s.append("cu_s_addr_city",a.billingCity),s.append("cu_s_addr_state",a.billingState),s.append("cu_s_addr_pincode",a.billingPin),s.append("cu_s_addr_phone",a.billingPhone),s.append("cu_s_addr_fax_number",a.fax_number)):(s.append("cu_s_addr_attention",a.cu_s_addr_attention),s.append("cu_s_addr_country",a.cu_s_addr_country),s.append("cu_s_addr_address",`${a.cu_s_addr_address} ${a.cu_s_addr_address2}`.trim()),s.append("cu_s_addr_city",a.cu_s_addr_city),s.append("cu_s_addr_state",a.cu_s_addr_state),s.append("cu_s_addr_pincode",a.cu_s_addr_pincode),s.append("cu_s_addr_phone",a.cu_s_addr_phone),s.append("cu_s_addr_fax_number",a.cu_s_addr_fax_number)),s.append("contact_person",JSON.stringify(a.contacts));const i=await Y.post("https://lunarsenterprises.com:5016/crm/add-customer",s,{headers:{Authorization:`Bearer ${w}`,user_id:A}});i.data.result===!0?(j({type:"success",message:i.data.message}),u(!0),Z(),setTimeout(()=>{u(!1)},3e3)):(j({type:"fail",message:i.data.message}),u(!0),setTimeout(()=>{u(!1)},3e3))}catch{j({type:"fail",message:"Something went wrong. Please try again."}),u(!0),setTimeout(()=>{u(!1)},3e3)}finally{S(!1)}},[y,R]=m.useState(!1),U=a=>{const s=a.target.checked;R(s),s?(n("cu_s_addr_attention",o("billingAttention")),n("cu_s_addr_country",o("billingCountry")),n("cu_s_addr_address",o("billingAddress1")),n("cu_s_addr_address2",o("billingAddress2")),n("cu_s_addr_city",o("billingCity")),n("cu_s_addr_state",o("billingState")),n("cu_s_addr_pincode",o("billingPin")),n("cu_s_addr_phone",o("billingPhone")),n("cu_s_addr_fax_number",o("fax_number"))):(n("cu_s_addr_attention",""),n("cu_s_addr_country",""),n("cu_s_addr_address",""),n("cu_s_addr_address2",""),n("cu_s_addr_city",""),n("cu_s_addr_state",""),n("cu_s_addr_pincode",""),n("cu_s_addr_phone",""),n("cu_s_addr_fax_number",""))};m.useState(null),m.useState([{Salutation:"Mr.",FirstName:"John",LastName:"Doe",Email:"john@example.com",WorkPhone:"1234567890",Mobile:"9876543210"}]);const[v,z]=m.useState([]),G=m.useCallback(a=>{const s=a.map(i=>{let c="";return i.type.startsWith("image/")&&(c=URL.createObjectURL(i)),{file:i,preview:c}});z(i=>{const c=[...i,...s];return n("files",c.map(x=>x.file)),c})},[n]),{getRootProps:O,getInputProps:W}=ee({accept:{"image/*":[],"application/pdf":[]},multiple:!0,onDrop:G}),K=a=>{z(s=>{const i=s.filter((c,x)=>x!==a);return n("files",i.map(c=>c.file)),i})},N=o("files");return e.jsxs(e.Fragment,{children:[e.jsxs(h,{show:L,onHide:()=>u(!1),centered:!0,children:[e.jsx(h.Header,{closeButton:!0,children:e.jsxs(h.Title,{children:[b.type==="success"?e.jsx("img",{src:V,alt:"Tick",style:{width:"30px",marginRight:"10px"}}):e.jsx("img",{src:Q,alt:"Warning",style:{width:"30px",marginRight:"10px"}}),b.type==="success"?"Success":"Warning"]})}),e.jsx(h.Body,{children:e.jsx("p",{children:b.message})})]}),e.jsxs(t,{onSubmit:M(B),children:[e.jsx("h4",{children:"New Customer"}),e.jsxs(t.Group,{as:g,className:"my-3",children:[e.jsx(t.Label,{column:!0,sm:3,children:"Customer Type"}),e.jsxs(p,{sm:9,children:[e.jsx(t.Check,{inline:!0,type:"radio",label:"Business",value:"Business",...l("customerType",{required:!0})}),e.jsx(t.Check,{inline:!0,type:"radio",label:"Individual",value:"Individual",...l("customerType",{required:!0})}),r.customerType&&e.jsx("span",{className:"text-danger",children:"This field is required"})]})]}),e.jsxs(g,{className:"mb-3",children:[e.jsx(t.Label,{column:!0,sm:3,children:"Primary Contact"}),e.jsxs(p,{sm:3,children:[e.jsxs(t.Select,{...l("salutationman",{required:"Salutation is required"}),children:[e.jsx("option",{value:"",children:"Salutation"}),e.jsx("option",{value:"Mr.",children:"Mr."}),e.jsx("option",{value:"Ms.",children:"Ms."}),e.jsx("option",{value:"Dr.",children:"Dr."})]}),r.salutationman&&e.jsx("span",{className:"text-danger",children:"Salutation is required"})]}),e.jsxs(p,{sm:3,children:[e.jsx(t.Control,{min:1,className:"text-capitalize",maxLength:60,placeholder:"First Name",...l("firstName",{required:"First name is required",pattern:{value:/^[A-Za-z\s]+$/,message:"Only letters and spaces are allowed"}}),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")}}),r.firstName&&e.jsx("span",{className:"text-danger",children:r.firstName.message})]}),e.jsxs(p,{sm:3,children:[e.jsx(t.Control,{className:"text-capitalize",min:1,maxLength:60,placeholder:"Last Name",...l("lastNamemanti",{required:"Last Name is required",pattern:{value:/^[A-Za-z\s]+$/,message:"Only letters and spaces are allowed"}}),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")}}),r.lastNamemanti&&e.jsx("span",{className:"text-danger",children:"last Name is required"})]})]}),e.jsxs(t.Group,{as:g,className:"mb-3",children:[e.jsx(t.Label,{column:!0,sm:3,children:"Company Name"}),e.jsxs(p,{sm:9,children:[e.jsx(t.Control,{className:"text-capitalize",min:2,maxLength:60,placeholder:"Company Name",...l("companyName",{required:"Company Name is required",pattern:{value:/^[A-Za-z\s]+$/,message:"Only letters and spaces are allowed"}}),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")}}),r.companyName&&e.jsx("span",{className:"text-danger",children:r.companyName.message})]})]}),e.jsxs(t.Group,{as:g,className:"mb-3",children:[e.jsx(t.Label,{column:!0,sm:3,children:"Display Name"}),e.jsxs(p,{sm:9,children:[e.jsx(t.Control,{className:"text-capitalize",min:1,maxLength:60,placeholder:"Display Name",...l("displayName",{pattern:{value:/^[A-Za-z\s]+$/,message:"Only letters and spaces are allowed"}}),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")}}),r.displayName&&e.jsx("span",{className:"text-danger",children:"Display Name is required"})]})]}),e.jsxs(t.Group,{as:g,className:"mb-3",children:[e.jsx(t.Label,{column:!0,sm:3,children:"Email Address"}),e.jsxs(p,{sm:9,children:[e.jsx(t.Control,{type:"email",placeholder:"Email Address",...l("cu_email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Invalid email format"}})}),r.cu_email&&e.jsx("span",{className:"text-danger",children:r.cu_email.message})]})]}),e.jsxs(t.Group,{as:g,className:"mb-3",children:[e.jsx(t.Label,{column:!0,sm:3,children:"Phone"}),e.jsxs(p,{sm:5,children:[e.jsx(t.Control,{type:"text",placeholder:"Mobile",maxLength:15,inputMode:"numeric",...l("Mobile",{required:"Mobile number is required",pattern:{value:/^[0-9]{7,15}$/,message:"Enter a valid mobile number (7-15 digits)"}}),onInput:a=>{a.target.value=a.target.value.replace(/\D/g,"")}}),r.Mobile&&e.jsx("span",{className:"text-danger",children:r.Mobile.message})]})]}),e.jsx("div",{className:" mt-4",children:e.jsxs(ae,{defaultActiveKey:"address",id:"address-tabs",children:[e.jsxs(f,{eventKey:"other",title:"Other Details",children:[e.jsxs(t.Group,{className:"mt-2",children:[e.jsx(t.Label,{children:"PAN (India)/Emirates ID (UAE)"}),e.jsx(t.Control,{...l("pan",{required:"PAN/Emirates ID is required",pattern:{value:/^[A-Za-z0-9]+$/,message:"Only letters and numbers are allowed"}}),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z0-9]/g,"")},min:4,maxLength:20,className:"text-uppercase",type:"text",placeholder:"Enter PAN/Emirates ID is required"}),r.pan&&e.jsx("span",{className:"text-danger",children:r.pan.message})]}),e.jsxs(t.Group,{children:[e.jsx(t.Label,{children:"Currency"}),e.jsxs(t.Select,{...l("currency",{required:"Currency is required"}),children:[e.jsx("option",{children:"AED - United ARAB Emirates"}),e.jsx("option",{children:"INR - Indian Rupee"}),e.jsx("option",{children:"USD - US Dollar"})]}),r.currency&&e.jsx("span",{className:"text-danger",children:r.currency.message})]}),e.jsxs(t.Group,{children:[e.jsx(t.Label,{children:"Opening Balance"}),e.jsx(t.Control,{...l("openingBalance",{required:"Opening Balance is required"}),type:"text",placeholder:"Opening Balance",onInput:a=>{a.target.value=a.target.value.replace(/\D/g,"")}}),r.openingBalance&&e.jsx("span",{className:"text-danger",children:r.openingBalance.message})]}),e.jsxs(t.Group,{children:[e.jsx(t.Label,{children:"Payment Terms"}),e.jsxs(t.Select,{...l("paymentTerms",{required:"Payment Terms  is required"}),children:[e.jsx("option",{value:"",disabled:!0,selected:!0,hidden:!0,children:"Due on Receipt"}),e.jsx("option",{children:"Net 30"}),e.jsx("option",{children:"Net 60"})]}),r.paymentTerms&&e.jsx("span",{className:"text-danger",children:r.paymentTerms.message})]}),e.jsx(t.Label,{children:"Add Image / PDF"}),e.jsx(p,{md:6,children:e.jsxs("div",{...O(),style:{border:"2px dashed #d1d5db",borderRadius:"12px",marginTop:"25px",height:"300px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#6b7280",cursor:"pointer",transition:"border 0.2s ease-in-out"},onMouseEnter:a=>a.currentTarget.style.border="2px dashed #3b82f6",onMouseLeave:a=>a.currentTarget.style.border="2px dashed #d1d5db",children:[e.jsxs("div",{className:" imagescroll",children:[e.jsx("input",{...W()}),e.jsx("input",{type:"hidden",...l("files")}),v.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center"},children:v.map((a,s)=>e.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:"8px",padding:"5px",textAlign:"center"},children:[a.preview?e.jsx("img",{src:a.preview,alt:`Uploaded ${s}`,style:{width:"150px",height:"150px",display:"flex",alignItems:"center",justifyContent:"center",background:"#f0f0f0",borderRadius:"8px"}}):e.jsx("div",{style:{width:"150px",height:"150px",display:"flex",alignItems:"center",justifyContent:"center",background:"#f0f0f0",borderRadius:"8px"},children:e.jsx("p",{children:"PDF File"})}),e.jsx(_,{variant:"danger",size:"sm",onClick:i=>{i.stopPropagation(),K(s)},style:{marginTop:"5px"},children:"Delete"})]},s))}),e.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#3b82f6",marginTop:"10px",textAlign:"center"},children:"Click to Add"})]}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/1829/1829586.png",alt:"Upload",style:{width:"150px",height:"150px",opacity:"0.7",marginBottom:"10px"}}),e.jsx("p",{style:{fontSize:"14px",marginBottom:"4px"},children:"Drag files here or"}),e.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#3b82f6"},children:"Browse files"})]})]}),v.length===0&&e.jsx("div",{style:{color:"red",marginTop:"8px",fontSize:"14px"},children:"⚠ Please add an image or PDF before submitting!"})]})}),e.jsxs(t.Group,{children:[e.jsx(t.Label,{children:"Department"}),e.jsx(t.Control,{...l("department"),type:"text",placeholder:"Enter department",onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")},className:"text-capitalize"})]}),e.jsxs(t.Group,{children:[e.jsx(t.Label,{children:"Designation"}),e.jsx(t.Control,{...l("designation"),type:"text",placeholder:"Enter designation",onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")},className:"text-capitalize"})]})]}),e.jsx(f,{eventKey:"address",title:"Address",children:e.jsxs("div",{className:"row mt-4",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("h5",{children:"Billing Address"}),e.jsxs("div",{className:"mb-3 mt-5",children:[e.jsx("label",{htmlFor:"billingAttention",className:"form-label",children:"Attention"}),e.jsx("input",{type:"text",id:"billingAttention",className:"form-control text-capitalize",...l("billingAttention",{required:"Attention is required"}),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")}}),r.billingAttention&&e.jsx("span",{className:"text-danger",children:r.billingAttention.message})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"billingCountry",className:"form-label",children:"Country / Region"}),e.jsxs("select",{id:"billingCountry",className:"form-select",...l("billingCountry",{required:"Country is required"}),children:[e.jsx("option",{value:"UAE",children:"United ARAB Emirates "}),e.jsx("option",{value:"US",children:"United States"}),e.jsx("option",{value:"IN",children:"India"})]}),r.billingCountry&&e.jsx("span",{className:"text-danger",children:r.billingCountry.message})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"billingAddress1",className:"form-label",children:"Address"}),e.jsx("textarea",{id:"billingAddress1",className:"form-control text-capitalize",placeholder:"Street 1",rows:3,...l("billingAddress1",{required:"Address is required"}),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")}}),r.billingAddress1&&e.jsx("span",{className:"text-danger",children:r.billingAddress1.message})]}),e.jsx("div",{className:"mb-3",children:e.jsx("textarea",{id:"billingAddress2",className:"form-control text-capitalize",placeholder:"Street 2",...l("billingAddress2"),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")}})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"billingState",className:"form-label",children:"State"}),e.jsx("input",{type:"text",id:"billingState",className:"form-control text-capitalize",...l("billingState",{required:"State is required"}),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")}}),r.billingState&&e.jsx("span",{className:"text-danger",children:r.billingState.message})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"billingCity",className:"form-label",children:"City"}),e.jsx("input",{type:"text",id:"billingCity",className:"form-control text-capitalize",...l("billingCity",{required:"City is required"}),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")}}),r.billingCity&&e.jsx("span",{className:"text-danger",children:r.billingCity.message})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"billingPin",className:"form-label",children:"Postal Code"}),e.jsx("input",{type:"text",id:"billingPin",className:"form-control",...l("billingPin",{required:"PIN is required",pattern:{value:/^[0-9]{6,12}$/,message:"PIN must be between 6 and 12 digits"}}),onInput:a=>{a.target.value=a.target.value.replace(/\D/g,"").slice(0,12)}}),r.billingPin&&e.jsx("span",{className:"text-danger",children:r.billingPin.message})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"billingPhone",className:"form-label",children:"Phone"}),e.jsx("input",{type:"text",id:"billingPhone",className:"form-control",placeholder:"Mobile",maxLength:15,inputMode:"numeric",...l("billingPhone",{required:"Mobile number is required",pattern:{value:/^[0-9]{7,15}$/,message:"Enter a valid  mobile number"}}),onInput:a=>{a.target.value=a.target.value.replace(/\D/g,"")}}),r.billingPhone&&e.jsx("span",{className:"text-danger",children:r.billingPhone.message})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"fax_number",className:"form-label",children:"Fax Number"}),e.jsx("input",{type:"text",id:"fax_number",className:"form-control",maxLength:15,min:4,...l("fax_number"),onInput:a=>{a.target.value=a.target.value.replace(/\D/g,"")}})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("h5",{children:"Shipping Address"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("input",{type:"checkbox",id:"sameAddress",className:"form-check-input",checked:y,onChange:U}),e.jsx("label",{htmlFor:"sameAddress",className:"form-check-label ms-2",children:"Billing address and shipping address are the same"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"cu_s_addr_attention",className:"form-label",children:"Attention"}),e.jsx("input",{type:"text",id:"cu_s_addr_attention",className:"form-control text-capitalize",...l("cu_s_addr_attention"),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"cu_s_addr_country",className:"form-label",children:"Country / Region"}),e.jsxs("select",{id:"cu_s_addr_country",className:"form-select",...l("cu_s_addr_country"),disabled:y,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"UAE",children:"United Arab States"}),e.jsx("option",{value:"US",children:"United States"}),e.jsx("option",{value:"IN",children:"India"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"cu_s_addr_address",className:"form-label",children:"Address"}),e.jsx("textarea",{type:"text",id:"cu_s_addr_address",className:"form-control text-capitalize",rows:3,placeholder:"Street 1",...l("cu_s_addr_address"),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")}})]}),e.jsx("div",{className:"mb-3",children:e.jsx("textarea",{type:"text",id:"cu_s_addr_address2",className:"form-control",placeholder:"Street 2",...l("cu_s_addr_address2"),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")}})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"cu_s_addr_state",className:"form-label",children:"State"}),e.jsx("input",{type:"text",id:"cu_s_addr_state",className:"form-control",...l("cu_s_addr_state"),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"cu_s_addr_city",className:"form-label",children:"City"}),e.jsx("input",{type:"text",id:"cu_s_addr_city",className:"form-control",...l("cu_s_addr_city"),onInput:a=>{a.target.value=a.target.value.replace(/[^A-Za-z\s]/g,"")}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"cu_s_addr_pincode",className:"form-label",children:"Postal Code"}),e.jsx("input",{type:"text",id:"cu_s_addr_pincode",className:"form-control",...l("cu_s_addr_pincode",{pattern:{value:/^[0-9]{6,12}$/,message:"PIN must be between 6 and 12 digits"}}),onInput:a=>{a.target.value=a.target.value.replace(/\D/g,"").slice(0,12)}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"cu_s_addr_phone",className:"form-label",children:"Phone"}),e.jsx("input",{type:"text",id:"cu_s_addr_phone",className:"form-control",placeholder:"Mobile",maxLength:15,inputMode:"numeric",...l("cu_s_addr_phone",{pattern:{value:/^[0-9]{15}$/,message:"Enter a valid  mobile number"}}),onInput:a=>{a.target.value=a.target.value.replace(/\D/g,"")}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"cu_s_addr_fax_number",className:"form-label",children:"Fax Number"}),e.jsx("input",{type:"text",id:"cu_s_addr_fax_number",className:"form-control",maxLength:15,min:4,...l("cu_s_addr_fax_number"),onInput:a=>{a.target.value=a.target.value.replace(/\D/g,"")}})]})]})]})}),e.jsxs(f,{eventKey:"contactperson",title:"Contact Person",children:[e.jsxs(se,{striped:!0,bordered:!0,responsive:!0,hover:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Salutation"}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Email Address"}),e.jsx("th",{children:"Work Phone"}),e.jsx("th",{children:"Mobile"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:T.map((a,s)=>{var i,c,x,I,q,P,F,D;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs(t.Select,{...l(`contacts.${s}.ccp_salutation`),children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Mr.",children:"Mr."}),e.jsx("option",{value:"Ms.",children:"Ms."}),e.jsx("option",{value:"Dr.",children:"Dr."})]})}),e.jsxs("td",{children:[e.jsx(t.Control,{type:"text",...l(`contacts.${s}.ccp_firstname`,{required:"First name is required",pattern:{value:/^[A-Za-z\s]+$/,message:"Only letters and spaces are allowed"}}),onInput:d=>{d.target.value=d.target.value.replace(/[^A-Za-z\s]/g,"")}}),((c=(i=r.contacts)==null?void 0:i[s])==null?void 0:c.ccp_firstname)&&e.jsx("span",{className:"text-danger",children:r.contacts[s].ccp_firstname.message})]}),e.jsx("td",{children:e.jsx(t.Control,{type:"text",...l(`contacts.${s}.ccp_lastname`),onInput:d=>{d.target.value=d.target.value.replace(/[^A-Za-z\s]/g,"")}})}),e.jsxs("td",{children:[e.jsx(t.Control,{type:"email",...l(`contacts.${s}.ccp_email`,{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Enter a valid email address"}}),onInput:d=>{d.target.value=d.target.value.replace(/[^a-zA-Z0-9@._%+-]/g,"")}}),((I=(x=r.contacts)==null?void 0:x[s])==null?void 0:I.ccp_email)&&e.jsx("span",{className:"text-danger",children:r.contacts[s].ccp_email.message})]}),e.jsxs("td",{children:[e.jsx(t.Control,{type:"text",...l(`contacts.${s}.ccp_phone`,{required:"Phone number is required",pattern:{value:/^[0-9]{7,15}$/,message:"Phone number must be between 7 and 15 digits"},minLength:{value:7,message:"Minimum 7 digits required"},maxLength:{value:15,message:"Maximum 15 digits allowed"}}),onInput:d=>{d.target.value=d.target.value.replace(/\D/g,"")},placeholder:"Enter phone number"}),((P=(q=r.contacts)==null?void 0:q[s])==null?void 0:P.ccp_phone)&&e.jsx("span",{className:"text-danger",children:r.contacts[s].ccp_phone.message})]}),e.jsxs("td",{children:[e.jsx(t.Control,{type:"text",...l(`contacts.${s}.ccp_mobile`,{required:"Phone number is required",pattern:{value:/^[0-9]{7,15}$/,message:"Phone number must be between 7 and 15 digits"},minLength:{value:7,message:"Minimum 7 digits required"},maxLength:{value:15,message:"Maximum 15 digits allowed"}}),onInput:d=>{d.target.value=d.target.value.replace(/\D/g,"")}}),((D=(F=r.contacts)==null?void 0:F[s])==null?void 0:D.ccp_mobile)&&e.jsx("span",{className:"text-danger",children:r.contacts[s].ccp_mobile.message})]}),e.jsx("td",{children:e.jsx(_,{variant:"danger",size:"sm",onClick:()=>k(s),children:"✖"})})]},a.id)})})]}),e.jsx(_,{type:"button",onClick:()=>$({ccp_salutation:"",ccp_firstname:"",ccp_lastname:"",ccp_email:"",ccp_phone:"",ccp_mobile:""}),children:"➕ Add Contact"})]})]})}),e.jsx("div",{className:"text-center mb-5 ",children:e.jsx(_,{disabled:C,variant:"success",type:"submit",className:"w-100 mt-3",children:C?e.jsxs(e.Fragment,{children:[e.jsx(X,{animation:"border",size:"sm",className:"me-2"}),"Save & Continue ..."]}):"Save & Continue"})})]})]})};export{he as default};
